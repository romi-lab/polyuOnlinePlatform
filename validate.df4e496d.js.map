{"version":3,"sources":["assets/vendor/php-email-form/validate.js"],"names":["php_email_form_submit","thisForm","action","formData","fetch","method","body","headers","then","response","ok","text","Error","status","statusText","url","data","querySelector","classList","remove","trim","add","reset","catch","error","displayError","innerHTML","document","querySelectorAll","forEach","e","addEventListener","event","preventDefault","getAttribute","recaptcha","FormData","grecaptcha","ready","execute","token","set"],"mappings":";CAKA,WACE,aA6CA,SAASA,EAAsBC,EAAUC,EAAQC,GAC/CC,MAAMF,EAAQ,CACZG,OAAQ,OACRC,KAAMH,EACNI,QAAS,CAAC,mBAAoB,oBAE/BC,KAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASE,OAEhB,MAAM,IAAIC,MAASH,GAAAA,OAAAA,EAASI,OAAUJ,KAAAA,OAAAA,EAASK,WAAcL,KAAAA,OAAAA,EAASM,QAGzEP,KAAK,SAAAQ,GAEJ,GADAf,EAASgB,cAAc,YAAYC,UAAUC,OAAO,WACjC,MAAfH,EAAKI,OAIP,MAAM,IAAIR,MAAMI,GAAc,8DAAgEd,GAH9FD,EAASgB,cAAc,iBAAiBC,UAAUG,IAAI,WACtDpB,EAASqB,UAKZC,MAAM,SAACC,GACNC,EAAaxB,EAAUuB,KAI3B,SAASC,EAAaxB,EAAUuB,GAC9BvB,EAASgB,cAAc,YAAYC,UAAUC,OAAO,WACpDlB,EAASgB,cAAc,kBAAkBS,UAAYF,EACrDvB,EAASgB,cAAc,kBAAkBC,UAAUG,IAAI,WAzE7CM,SAASC,iBAAiB,mBAEhCC,QAAS,SAASC,GACtBA,EAAEC,iBAAiB,SAAU,SAASC,GACpCA,EAAMC,iBAEN,IAAIhC,EAAW,KAEXC,EAASD,EAASiC,aAAa,UAC/BC,EAAYlC,EAASiC,aAAa,2BAEtC,GAAMhC,EAAN,CAIAD,EAASgB,cAAc,YAAYC,UAAUG,IAAI,WACjDpB,EAASgB,cAAc,kBAAkBC,UAAUC,OAAO,WAC1DlB,EAASgB,cAAc,iBAAiBC,UAAUC,OAAO,WAEzD,IAAIhB,EAAW,IAAIiC,SAAUnC,GAExBkC,EACsB,oBAAfE,WACRA,WAAWC,MAAM,WACf,IACED,WAAWE,QAAQJ,EAAW,CAACjC,OAAQ,0BACtCM,KAAK,SAAAgC,GACJrC,EAASsC,IAAI,qBAAsBD,GACnCxC,EAAsBC,EAAUC,EAAQC,KAE1C,MAAMqB,GACNC,EAAaxB,EAAUuB,MAI3BC,EAAaxB,EAAU,mDAGzBD,EAAsBC,EAAUC,EAAQC,QA1BxCsB,EAAaxB,EAAU,4CAf/B","file":"validate.df4e496d.js","sourceRoot":"..","sourcesContent":["/**\r\n* PHP Email Form Validation - v3.2\r\n* URL: https://bootstrapmade.com/php-email-form/\r\n* Author: BootstrapMade.com\r\n*/\r\n(function () {\r\n  \"use strict\";\r\n\r\n  let forms = document.querySelectorAll('.php-email-form');\r\n\r\n  forms.forEach( function(e) {\r\n    e.addEventListener('submit', function(event) {\r\n      event.preventDefault();\r\n\r\n      let thisForm = this;\r\n\r\n      let action = thisForm.getAttribute('action');\r\n      let recaptcha = thisForm.getAttribute('data-recaptcha-site-key');\r\n      \r\n      if( ! action ) {\r\n        displayError(thisForm, 'The form action property is not set!')\r\n        return;\r\n      }\r\n      thisForm.querySelector('.loading').classList.add('d-block');\r\n      thisForm.querySelector('.error-message').classList.remove('d-block');\r\n      thisForm.querySelector('.sent-message').classList.remove('d-block');\r\n\r\n      let formData = new FormData( thisForm );\r\n\r\n      if ( recaptcha ) {\r\n        if(typeof grecaptcha !== \"undefined\" ) {\r\n          grecaptcha.ready(function() {\r\n            try {\r\n              grecaptcha.execute(recaptcha, {action: 'php_email_form_submit'})\r\n              .then(token => {\r\n                formData.set('recaptcha-response', token);\r\n                php_email_form_submit(thisForm, action, formData);\r\n              })\r\n            } catch(error) {\r\n              displayError(thisForm, error)\r\n            }\r\n          });\r\n        } else {\r\n          displayError(thisForm, 'The reCaptcha javascript API url is not loaded!')\r\n        }\r\n      } else {\r\n        php_email_form_submit(thisForm, action, formData);\r\n      }\r\n    });\r\n  });\r\n\r\n  function php_email_form_submit(thisForm, action, formData) {\r\n    fetch(action, {\r\n      method: 'POST',\r\n      body: formData,\r\n      headers: {'X-Requested-With': 'XMLHttpRequest'}\r\n    })\r\n    .then(response => {\r\n      if( response.ok ) {\r\n        return response.text()\r\n      } else {\r\n        throw new Error(`${response.status} ${response.statusText} ${response.url}`); \r\n      }\r\n    })\r\n    .then(data => {\r\n      thisForm.querySelector('.loading').classList.remove('d-block');\r\n      if (data.trim() == 'OK') {\r\n        thisForm.querySelector('.sent-message').classList.add('d-block');\r\n        thisForm.reset(); \r\n      } else {\r\n        throw new Error(data ? data : 'Form submission failed and no error message returned from: ' + action); \r\n      }\r\n    })\r\n    .catch((error) => {\r\n      displayError(thisForm, error);\r\n    });\r\n  }\r\n\r\n  function displayError(thisForm, error) {\r\n    thisForm.querySelector('.loading').classList.remove('d-block');\r\n    thisForm.querySelector('.error-message').innerHTML = error;\r\n    thisForm.querySelector('.error-message').classList.add('d-block');\r\n  }\r\n\r\n})();\r\n"]}